<nav id="main-menu" class="navbar navbar-expand navbar-dark bg-dark backgroud-style">
    <a routerLink="/">
        <img src="assets\switcherapi_mark_white.png" 
            class="switcher-logo transition hide-main-menu"
            alt="Switcher API logo"/>
    </a>
    <img id="menuMain" src="assets\switcherapi_mark_white.png" 
        class="switcher-logo transition hide-non-mobile" 
        alt="Switcher API logo"/>
    <ul id="mainMenu" class="navigation-nested nav-main">
        <li class="menu-header navigation-nested__header">
            <div>Menu</div>
        </li>
        <li>
            @if (showHome()) {
            <a class="topbar-menu-item" routerLink="/" title="Home" (click)="onMenuClick('mainMenu')">
                <mat-icon class="menu-item-icon">home</mat-icon>
                Home
            </a>
            }
        </li>
        <hr style="margin: 0;">
        <li>
            @if (currentToken) {
            <a class="topbar-menu-item" routerLink="/dashboard" title="Dashboard" (click)="onMenuClick('mainMenu')">
                <mat-icon class="menu-item-icon">dashboard</mat-icon>
                Dashboard
            </a>
            }
        </li>
        <li>
            <a class="topbar-menu-item" routerLink="/documentation" title="Documentation" (click)="onMenuClick('mainMenu')">
                <mat-icon class="menu-item-icon">description</mat-icon>
                Documentation
            </a>
        </li>
        <li>
            @if (!currentToken) {
            <a class="topbar-menu-item" routerLink="/login" title="Sign in" (click)="onMenuClick('mainMenu')">
                <mat-icon class="menu-item-icon">login</mat-icon>
                Sign in
            </a>
            }
        </li>
        <hr style="margin: 0;">
        <li>
            @if (!currentToken) {
            <a class="topbar-menu-item" routerLink="/signup" title="Sign up" (click)="onMenuClick('mainMenu')">
                <mat-icon class="menu-item-icon">person_add</mat-icon>
                Sign up
            </a>
            }
        </li>
    </ul>

    <mat-divider class="divider-style"></mat-divider>

    <div class="navbar-nav" style="width: 100%;">
        @if (currentToken) {
        <a class="nav-item nav-link hide-main-menu" routerLink="/dashboard">Dashboard</a>
        }
        <a class="nav-item nav-link hide-main-menu" routerLink="/documentation">Documentation</a>
        @if (!currentToken) {
        <a class="nav-item nav-link hide-main-menu" routerLink="/login">Sign in</a>
        }
        <a id="appTitle" class="nav-item nav-link hide-non-mobile" routerLink="/">Switcher Management</a>
        @if (!currentToken) {
        <div class="menu-border-left">
            <a id="toggleTheme" class="nav-item nav-link transition" (click)="toggleDarkMode()">
                <mat-icon>{{ darkMode ? 'brightness_7' : 'brightness_4' }}</mat-icon>
            </a>
            <a id="signUp" class="nav-item nav-link hide-main-menu" routerLink="/signup">Sign up</a>
        </div>
        }
        @if (currentToken) {
        <div id="menuProfile" class="profile-btn menu-border-left">
            <img class="profile-avatar switcher-logo transition" src="{{ profileAvatar }}" alt="User avatar">
        </div>
        }
        @if (currentToken) {
        <ul id="profileMenu" class="navigation-nested nav-user">
            <li class="menu-header navigation-nested__header">
                <div>{{ loggedUserName }}</div>
            </li>
            <li>
                <a class="topbar-menu-item" routerLink="/settings/account" title="Profile Panel" (click)="onMenuClick('profileMenu')">
                    <mat-icon class="menu-item-icon">account_circle</mat-icon>
                    Settings
                </a>
            </li>
            <li>
                <a class="topbar-menu-item" title="Profile Panel" (click)="toggleDarkMode()">
                    <mat-icon class="menu-item-icon">{{ darkMode ? 'brightness_7' : 'brightness_4' }}</mat-icon>
                    Toggle Dark theme
                </a>
            </li>
            <hr style="margin: 0;">
            <li>
                <a class="topbar-menu-item" (click)="logout()" title="Sign Out" (click)="onMenuClick('profileMenu')">
                    <mat-icon class="menu-item-icon">exit_to_app</mat-icon>
                    Sign Out
                </a>
            </li>
        </ul>
        }
    </div>
</nav>

<div id="appContent">
    <router-outlet></router-outlet>
</div>